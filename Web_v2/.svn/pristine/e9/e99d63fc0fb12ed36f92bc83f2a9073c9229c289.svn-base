function YBZZPageClass() {
  this._init_();
}

YBZZPageClass.prototype = {
  _init_: function () {
    this.name = "预报制作";
  },
  renderMenu() {
    let html = `
  <div class="ybzzpage">
    <div class="ybzz_left" id="ybzz_left">
      <div id="main_left">
        <div class="today_work">
          <p>今天工作</p>
          <div id="today_work_list">
            <ul>
    
              <li>
                <p class="work_title">广播预报(05时05分)</p>
                <span class="work_time"><i class="iconfont icon-shijian"></i>制作时间:06:30</span>
                <span class="work_person"><i class="iconfont icon-renyuan"></i>制作人:彭某某</span>
                <span class="isComplete"><i class="iconfont icon-wancheng"></i>已完成</span>
              </li>
    
              <li>
                <p class="work_title">广播预报(05时05分)</p>
                <span class="work_time"><i class="iconfont icon-shijian"></i>制作时间:06:30</span>
                <span class="work_person"><i class="iconfont icon-renyuan"></i>制作人:彭某某</span>
              </li>
    
              <li>
                <p class="work_title">广播预报(05时05分)</p>
                <span class="work_time"><i class="iconfont icon-shijian"></i>制作时间:06:30</span>
                <span class="work_person"><i class="iconfont icon-renyuan"></i>制作人:彭某某</span>
                <span class="isComplete"><i class="iconfont icon-wancheng"></i>已完成</span>
              </li>
    
              <li>
                <p class="work_title">广播预报(05时05分)</p>
                <span class="work_time"><i class="iconfont icon-shijian"></i>制作时间:06:30</span>
                <span class="work_person"><i class="iconfont icon-renyuan"></i>制作人:彭某某</span>
              </li>
    
              <li>
                <p class="work_title">广播预报(05时05分)</p>
                <span class="work_time"><i class="iconfont icon-shijian"></i>制作时间:06:30</span>
                <span class="work_person"><i class="iconfont icon-renyuan"></i>制作人:彭某某</span>
                <span class="isComplete"><i class="iconfont icon-wancheng"></i>已完成</span>
              </li>
    
            </ul>
          </div>
    
        </div>
        <div class="history_msg">
          <dl>
            <dt>历史预报</dt>
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
            <dd>
              <span>每日天气综述2017/12/19 下午9:50:13</span>
              <a href="#">导入</a>
            </dd>
    
          </dl>
    
        </div>
      </div>
      <div id="main_middle">
        <div class="summarize_content">
          <div class="sumarize_header">
            <p>每日天气综述</p>
            <p><span>here is time</span> 预报员:某某某</p>
          </div>
          <div class="summarize_body">
            <div class="weather_review">
              <h5>一、近期天气回顾</h5>
              <p contenteditable="true">昨天沿海地区有阵雨，中部沿海大雨到暴雨，福州，莆田和泉州的局部乡镇有大暴雨。</p>
            </div>
            <div class="weather_trend">
              <h5>二、近期天气趋势</h5>
              <p contenteditable="true">今天 受低层弱符合影响，沿海各地区和内陆东部有阵雨，局部有中雨。</p>
              <p contenteditable="true">7日 低层渐转高压环流后部偏南气流，全省多云转阴，内西部地区东部地区靠山地区陆各城市有阵雨，局部有中雨</p>
              <p contenteditable="true">8日 低层渐转高压环流后部偏南气流，全省多云转阴，内陆各城市有阵雨，局部逐渐有中雨</p>
              <p contenteditable="true">9日 低层渐转高压环流后部偏南气流，全省多云转阴，内陆明天下午夜里各城市有阵雨，局部有中雨</p>
            </div>
            <div class="weather_vista">
              <h5>三、未来天气展望</h5>
              <p contenteditable="true">10日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
              <p contenteditable="true">11日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
              <p contenteditable="true">12-13日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
              <p contenteditable="true">14-15日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
            </div>
            <div class="weather_keyPoint">
              <h5>四、关注重点</h5>
              <p contenteditable="true">10日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
              <p contenteditable="true">11日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
              <p contenteditable="true">12-13日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
              <p contenteditable="true">14-15日 受低层弱符合影响，沿海各地和内陆东部有阵雨，局部有中雨</p>
            </div>
            <div class="summarize_sign">
              <h5 class="summarize_sign_name">兰州气象台</h5>
              <p class="summarize_sign_time" contenteditable="true">2017-10-10 08时</p>
            </div>
          </div>
    
        </div>
        <div class="submit_exportDoc">
          <button class="submit">提交</button>
          <button class="exportDoc">生成word文档</button>
        </div>
      </div>
      <dl id="main_right">
        <dt>预报用语库</dt>
        <dd id="wordsList">
          <dl class="changyongyu">
            <dt>— — 常用语 — —</dt>
            <dd>
              <button>~</button>
            </dd>
    
            <dd>
              <button>%</button>
            </dd>
    
            <dd>
              <button>-</button>
            </dd>
    
            <dd>
              <button>，</button>
            </dd>
    
            <dd>
              <button>。</button>
            </dd>
    
            <dd>
              <button>、</button>
            </dd>
    
            <dd>
              <button>：</button>
            </dd>
    
            <dd>
              <button>；</button>
            </dd>
    
            <dd>
              <button>“</button>
            </dd>
    
            <dd>
              <button>”</button>
            </dd>
    
            <dd>
              <button>有</button>
            </dd>
    
            <dd>
              <button>有时有</button>
            </dd>
    
            <dd>
              <button>或</button>
            </dd>
    
            <dd>
              <button>转</button>
            </dd>
    
            <dd>
              <button>起</button>
            </dd>
    
            <dd>
              <button>的</button>
            </dd>
    
            <dd>
              <button>和</button>
            </dd>
    
            <dd>
              <button>并</button>
            </dd>
    
            <dd>
              <button>逐渐</button>
            </dd>
    
            <dd>
              <button>继续</button>
            </dd>
    
            <dd>
              <button>增强</button>
            </dd>
    
            <dd>
              <button>到</button>
            </dd>
    
          </dl>
          <dl class="tianqi">
            <dt>— — 天气 — —</dt>
            <dd>
              <button>晴</button>
            </dd>
    
            <dd>
              <button>晴转多云</button>
            </dd>
    
            <dd>
              <button>晴到少云</button>
            </dd>
    
            <dd>
              <button>少云</button>
            </dd>
    
            <dd>
              <button>少云到多云</button>
            </dd>
    
            <dd>
              <button>多云到阴</button>
            </dd>
    
            <dd>
              <button>多云转阴</button>
            </dd>
    
            <dd>
              <button>阴</button>
            </dd>
    
            <dd>
              <button>阴到多云</button>
            </dd>
    
            <dd>
              <button>阴转多云</button>
            </dd>
    
          </dl>
          <dl class="wu">
            <dt>— — 雾 — —</dt>
            <dd>
              <button>夜晨有雾</button>
            </dd>
    
            <dd>
              <button>轻雾</button>
            </dd>
    
            <dd>
              <button>雾</button>
            </dd>
    
            <dd>
              <button>浓雾</button>
            </dd>
    
          </dl>
          <dl class="fangwei">
            <dt>— — 方位 — —</dt>
            <dd>
              <button>前后</button>
            </dd>
    
            <dd>
              <button>左右</button>
            </dd>
    
            <dd>
              <button>市区</button>
            </dd>
          </dl>
          <dl class="shanqu">
            <dt>— — 山区 — —</dt>
            <dd>
              <button>局部山区</button>
            </dd>
    
            <dd>
              <button>靠山地区</button>
            </dd>
    
            <dd>
              <button>北部地区</button>
            </dd>
    
            <dd>
              <button>东部地区</button>
            </dd>
    
            <dd>
              <button>南部地区</button>
            </dd>
    
            <dd>
              <button>西部地区</button>
            </dd>
   
            <dd>
              <button>部分地区</button>
            </dd>
    
          </dl>
          <dl class="shiduan">
            <dt>— — 时段 — —</dt>
            <dd>
              <button>午后</button>
            </dd>
    
            <dd>
              <button>明天</button>
            </dd>
    
            <dd>
              <button>上午</button>
            </dd>
    
            <dd>
              <button>中午</button>
            </dd>
    
            <dd>
              <button>下午</button>
            </dd>
    
            <dd>
              <button>傍晚</button>
            </dd>
    
            <dd>
              <button>夜里</button>
            </dd>
    
            <dd>
              <button>上半夜</button>
            </dd>
    
            <dd>
              <button>下半夜</button>
            </dd>
    
            <dd>
              <button>半夜后</button>
            </dd>
    
            <dd>
              <button>明晨</button>
            </dd>
    
            <dd>
              <button>夜晨</button>
            </dd>
    
            <dd>
              <button>短暂</button>
            </dd>
    
          </dl>
          <dl class="yu">
            <dt>— — 雨 — —</dt>
            <dd>
              <button>阵雨</button>
            </dd>
    
            <dd>
              <button>雷阵雨</button>
            </dd>
    
            <dd>
              <button>或</button>
            </dd>
    
            <dd>
              <button>下雨</button>
            </dd>
    
            <dd>
              <button>小阵雨</button>
            </dd>
    
            <dd>
              <button>小到中雨</button>
            </dd>
    
            <dd>
              <button>小到中阵雨</button>
            </dd>
    
            <dd>
              <button>中雨</button>
            </dd>
    
            <dd>
              <button>中阵雨</button>
            </dd>
    
            <dd>
              <button>中到大阵雨</button>
            </dd>
    
            <dd>
              <button>大雨</button>
            </dd>
    
            <dd>
              <button>大到暴雨</button>
            </dd>
    
            <dd>
              <button>暴雨</button>
            </dd>
    
            <dd>
              <button>暴雨到大暴雨</button>
            </dd>
    
            <dd>
              <button>大暴雨到特到暴雨</button>
            </dd>
    
            <dd>
              <button>特大暴雨</button>
            </dd>
    
          </dl>
        </dd>
    
      </dl>
    </div>
    <div class="ybzz_right" >
      <div class="ybzz_type" id="ybzz_type">
        <button class="active">产品制作</button>
        <button>预报竞赛</button>
      </div>
      <div class="ybzz_type_con ybzz_product">
        <div class="panel-group" id="accordion">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                  第 1 部分
                </a>
              </h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse in">
              <div class="panel-body">
                Nihil anim keffiyeh helvetica, craft beer labore wes anderson
                cred nesciunt sapiente ea proident. Ad vegan excepteur butcher
                vice lomo.
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
                  第 2 部分
                </a>
              </h4>
            </div>
            <div id="collapseTwo" class="panel-collapse collapse">
              <div class="panel-body">
                Nihil anim keffiyeh helvetica, craft beer labore wes anderson
                cred nesciunt sapiente ea proident. Ad vegan excepteur butcher
                vice lomo.
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
                  第 3 部分
                </a>
              </h4>
            </div>
            <div id="collapseThree" class="panel-collapse collapse">
              <div class="panel-body">
                Nihil anim keffiyeh helvetica, craft beer labore wes anderson
                cred nesciunt sapiente ea proident. Ad vegan excepteur butcher
                vice lomo.
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ybzz_type_con ybzz_competition" id="ybzz_competition">
       <button>城镇预报</button>
       <button>灾害落区</button>
      </div>
    </div>
  </div>`;
    $("#content").append(html);
  },
  initEvent() {
    //ybzz_type 点击预报类型
    $("#ybzz_type>button").on("click", function () {
      $(this).siblings().removeClass("active").end().addClass("active");
      let index = $(this).index();
      $(".ybzz_type_con").hide().eq(index).show();

      //左边部分内容
      if (index == 0) {
        $("#ybzz_left").show()
      }
      else if (index == 1) {
        $("#ybzz_left").hide();
      }
    })


    //天气综述中的插值
    $(function () {
      $(".summarize_body p").each(function () {
        $(this).attr("contenteditable", true);
      });
      let inputP;
      $(".summarize_body p").click(function (e) {
        inputP = this;

      });
      $("#wordsList button").click(function () {
        let addTxt = $(this).text();
        pasteHtmlAtCaret(inputP, addTxt);
      })

      function pasteHtmlAtCaret(el, html) {
        el.focus();
        var sel, range;
        if (window.getSelection) {
          // IE9 and non-IE
          sel = window.getSelection();
          if (sel.getRangeAt && sel.rangeCount) {
            range = sel.getRangeAt(0);
            range.deleteContents();

            // Range.createContextualFragment() would be useful here but is
            // only relatively recently standardized and is not supported in
            // some browsers (IE9, for one)
            var el = document.createElement("div");
            el.innerHTML = html;
            var frag = document.createDocumentFragment(),
              node, lastNode;
            while ((node = el.firstChild)) {
              lastNode = frag.appendChild(node);
            }
            range.insertNode(frag);

            // Preserve the selection
            if (lastNode) {
              range = range.cloneRange();
              range.setStartAfter(lastNode);
              range.collapse(true);
              sel.removeAllRanges();
              sel.addRange(range);
            }
          }
        } else if (document.selection && document.selection.type != "Control") {
          // IE < 9
          document.selection.createRange().pasteHTML(html);
        }
      }

    })


  }
}
